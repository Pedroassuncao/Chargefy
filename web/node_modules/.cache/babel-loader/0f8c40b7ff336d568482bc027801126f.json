{"ast":null,"code":"import _slicedToArray from\"/home/pedro/Documents/ULP/Chargefy2/Chargefy2.0/web/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{FiPlus,FiArrowRight,FiArrowLeft,FiHome}from'react-icons/fi';import{Map,TileLayer,Marker,Popup}from'react-leaflet';import'leaflet/dist/leaflet.css';import'../styles/pages/pces-map.css';import mapMarkerImg from\"../images/map-marker.svg\";import mapIcon from'../utils/mapIcon';// import placeholder from '../images/placeholder.svg';\nimport mapIconLoc from'../utils/mapLoc';import api from'../services/api';import Pce from'./Pce';function PcesMap(){var _useState=useState({latitude:0,longitude:0}),_useState2=_slicedToArray(_useState,2),position=_useState2[0],setPosition=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),pces=_useState4[0],setPces=_useState4[1];useEffect(function(){api.get('pces').then(function(response){setPces(response.data);});navigator.geolocation.getCurrentPosition(function(position){setPosition({latitude:position.coords.latitude,longitude:position.coords.longitude});});},[]);return/*#__PURE__*/React.createElement(\"div\",{id:\"page-map\"},/*#__PURE__*/React.createElement(\"aside\",null,/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(\"img\",{src:mapMarkerImg,width:\"150\",alt:\"Logo\"}),/*#__PURE__*/React.createElement(\"h2\",null,\"Escolha um Posto no mapa\"),/*#__PURE__*/React.createElement(\"p\",null,\"Como \\xE9 facil encontrar um posto :)\")),/*#__PURE__*/React.createElement(\"footer\",null,/*#__PURE__*/React.createElement(\"p\",null,\"Sua localiza\\xE7\\xE3o: \"),/*#__PURE__*/React.createElement(\"strong\",null,\"Latidude: \",position.latitude),/*#__PURE__*/React.createElement(\"span\",null,\"Longitude: \",position.longitude),/*#__PURE__*/React.createElement(Link,{to:\"/dashboard/registred\",className:\"dash-button\"},/*#__PURE__*/React.createElement(FiHome,{size:25})),/*#__PURE__*/React.createElement(Link,{to:\"/\",className:\"home-back\"},/*#__PURE__*/React.createElement(FiArrowLeft,{size:26,color:\"#FFF\"})))),/*#__PURE__*/React.createElement(Map,{center:[position.latitude,position.longitude],zoom:13,style:{width:'100%',height:'100%',zIndex:0}},/*#__PURE__*/React.createElement(TileLayer//  url={`https://api.mapbox.com/styles/v1/mapbox/outdoors-v11/tiles/256/{z}/{x}/{y}@2x?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`}\n,{url:\"https://api.mapbox.com/styles/v1/mapbox/outdoors-v11/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoicGVkcm9hc3N1bmNhbyIsImEiOiJja253N256cWcwOW1tMm9tcGNqZHFwOHFjIn0.Z077Z511SWshLZ4cw-hq-Q\"}),pces.map(function(pce){if(!pce.approved)return null;return/*#__PURE__*/React.createElement(Marker,{position:[pce.latitude,pce.longitude],icon:mapIcon,key:pce.id},/*#__PURE__*/React.createElement(Marker,{position:[position.latitude,position.longitude],icon:mapIconLoc}),/*#__PURE__*/React.createElement(Popup,{closeButton:false,minWidth:240,maxWidth:240,className:\"map-popup\"},pce.name,/*#__PURE__*/React.createElement(Link,{to:\"/pces/\".concat(pce.id)},/*#__PURE__*/React.createElement(FiArrowRight,{size:20,color:\"#FFF\"}))));})),/*#__PURE__*/React.createElement(Link,{to:\"/pces/create\",className:\"create-pce\"},/*#__PURE__*/React.createElement(FiPlus,{size:32,color:\"#FFF\"})));}export default PcesMap;","map":{"version":3,"sources":["/home/pedro/Documents/ULP/Chargefy2/Chargefy2.0/web/src/views/PcesMap.tsx"],"names":["React","useEffect","useState","Link","FiPlus","FiArrowRight","FiArrowLeft","FiHome","Map","TileLayer","Marker","Popup","mapIcon","mapIconLoc","api","Pce","PcesMap","latitude","longitude","position","setPosition","pces","setPces","get","then","response","data","navigator","geolocation","getCurrentPosition","coords","mapMarkerImg","width","height","zIndex","map","pce","approved","id","name"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FiPlus, FiArrowRight, FiArrowLeft, FiHome } from 'react-icons/fi';\nimport { Map, TileLayer, Marker, Popup } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\n\nimport '../styles/pages/pces-map.css';\n\nimport mapMarkerImg from '../images/map-marker.svg';\nimport mapIcon from '../utils/mapIcon';\n// import placeholder from '../images/placeholder.svg';\nimport mapIconLoc from '../utils/mapLoc';\nimport api from '../services/api';\nimport Pce from './Pce';\n\ninterface Pce {\n  id: number;\n  latitude: number;\n  longitude: number;\n  name: string;\n  approved: boolean;\n}\n\nfunction PcesMap() {\n  const [position, setPosition] = useState({ latitude: 0, longitude: 0 });\n\n  const [pces, setPces] = useState<Pce[]>([]);\n\n  useEffect(() => {\n    api.get('pces').then((response) => {\n      setPces(response.data);\n    });\n\n    navigator.geolocation.getCurrentPosition((position) => {\n      setPosition({\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude,\n      });\n    });\n  }, []);\n\n  return (\n    <div id=\"page-map\">\n      <aside>\n        <header>\n          <img src={mapMarkerImg} width=\"150\" alt=\"Logo\" />\n\n          <h2>Escolha um Posto no mapa</h2>\n\n          <p>Como é facil encontrar um posto :)</p>\n        </header>\n\n        <footer>\n          <p>Sua localização: </p>\n          <strong>Latidude: {position.latitude}</strong>\n          <span>Longitude: {position.longitude}</span>\n\n          <Link to=\"/dashboard/registred\" className=\"dash-button\">\n          <FiHome size={25} />\n          </Link>\n\n          <Link to=\"/\" className=\"home-back\">\n            <FiArrowLeft size={26} color=\"#FFF\" />\n          </Link>\n\n\n        </footer>\n      </aside>\n\n      <Map\n        center={[position.latitude, position.longitude]}\n        zoom={13}\n        style={{ width: '100%', height: '100%', zIndex: 0 }}\n      >\n        <TileLayer\n          //  url={`https://api.mapbox.com/styles/v1/mapbox/outdoors-v11/tiles/256/{z}/{x}/{y}@2x?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`}\n          url=\"https://api.mapbox.com/styles/v1/mapbox/outdoors-v11/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoicGVkcm9hc3N1bmNhbyIsImEiOiJja253N256cWcwOW1tMm9tcGNqZHFwOHFjIn0.Z077Z511SWshLZ4cw-hq-Q\"\n        ></TileLayer>\n\n        {pces.map((pce) => {\n          if (!pce.approved) return null;\n          return (\n            <Marker\n              position={[pce.latitude, pce.longitude]}\n              icon={mapIcon}\n              key={pce.id}\n            >\n              <Marker\n              position={[position.latitude, position.longitude]}\n              icon={mapIconLoc}\n\n              ></Marker>\n              <Popup\n                closeButton={false}\n                minWidth={240}\n                maxWidth={240}\n                className=\"map-popup\"\n              >\n                {pce.name}\n                <Link to={`/pces/${pce.id}`}>\n                  <FiArrowRight size={20} color=\"#FFF\" />\n                </Link>\n              </Popup>\n            </Marker>\n          );\n        })}\n      </Map>\n\n      <Link to=\"/pces/create\" className=\"create-pce\">\n        <FiPlus size={32} color=\"#FFF\" />\n      </Link>\n    </div>\n  );\n}\n\nexport default PcesMap;\n"]},"metadata":{},"sourceType":"module"}