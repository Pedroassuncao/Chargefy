{"ast":null,"code":"import _regeneratorRuntime from\"/home/pedro/Documents/ULP/Chargefy2/Chargefy2.0/web/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/pedro/Documents/ULP/Chargefy2/Chargefy2.0/web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/pedro/Documents/ULP/Chargefy2/Chargefy2.0/web/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link}from'react-router-dom';import'../../styles/pages/restrict.css';import'../../styles/partials/inputs.css';import LoginSideBar from'../../components/LoginSideBar';import'../../styles/components/login_formarea.css';import api from'../../services/api';import{FiArrowLeft}from'react-icons/fi';import{useHistory}from'react-router-dom';export default function Restrict(){var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];function handleLogin(_x){return _handleLogin.apply(this,arguments);}function _handleLogin(){_handleLogin=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return api.post('/auth',{email:email,password:password}).then(function(resp){var data=resp.data;if(data){localStorage.setItem('app-token',data.token);history.push('/dashboard/registred');}console.log('Email ou senha inválido(s)');});case 3:case\"end\":return _context.stop();}}},_callee);}));return _handleLogin.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"div\",{id:\"page-restrict\"},/*#__PURE__*/React.createElement(\"div\",{className:\"content-wrapper\"},/*#__PURE__*/React.createElement(LoginSideBar,null),/*#__PURE__*/React.createElement(\"div\",{className:\"login-card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"login-area\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleLogin,className:\"login-form\"},/*#__PURE__*/React.createElement(\"fieldset\",null,/*#__PURE__*/React.createElement(\"legend\",null,\"Entrar\"),/*#__PURE__*/React.createElement(Link,{to:'/cadastrate',className:\"cadastrate\"},\"Criar novo utilizador\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-area\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-block\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"E-mail\"),/*#__PURE__*/React.createElement(\"input\",{id:\"email\",type:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"input-block\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{id:\"password\",type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"help-area\"},/*#__PURE__*/React.createElement(\"div\",{className:\"checkbox-block\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",name:\"remember\",id:\"remember\"}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"remember\"},\"Lembrar-me\")),/*#__PURE__*/React.createElement(Link,{to:\"/login/forgot\",className:\"forgot-password\"},\"Esqueci minha Password\")))),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"login-button\"},\"Entrar\"))),/*#__PURE__*/React.createElement(Link,{to:\"/\",className:\"button-back\"},/*#__PURE__*/React.createElement(FiArrowLeft,{size:35,color:\"#29B6D1\"})))));}","map":{"version":3,"sources":["/home/pedro/Documents/ULP/Chargefy2/Chargefy2.0/web/src/views/Login/RestrictLogin.tsx"],"names":["React","useState","Link","LoginSideBar","api","FiArrowLeft","useHistory","Restrict","history","email","setEmail","password","setPassword","handleLogin","event","preventDefault","post","then","resp","data","localStorage","setItem","token","push","console","log","e","target","value"],"mappings":"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","sourcesContent":["import React, { FormEvent, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport '../../styles/pages/restrict.css';\n\nimport '../../styles/partials/inputs.css';\n\nimport LoginSideBar from '../../components/LoginSideBar';\n\nimport '../../styles/components/login_formarea.css';\nimport api from '../../services/api';\nimport { FiArrowLeft } from 'react-icons/fi';\n\nimport { useHistory } from 'react-router-dom';\n\nexport default function Restrict() {\n  const history = useHistory();\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  async function handleLogin(event: FormEvent) {\n    event.preventDefault();\n\n    await api\n      .post('/auth', {\n        email,\n        password,\n      })\n      .then((resp) => {\n        const { data } = resp;\n        if (data) {\n          localStorage.setItem('app-token', data.token);\n          history.push('/dashboard/registred');\n        }\n        console.log('Email ou senha inválido(s)');\n      });\n  }\n\n  return (\n    <div id=\"page-restrict\">\n      <div className=\"content-wrapper\">\n        <LoginSideBar />\n\n        <div className=\"login-card\">\n          <div className=\"login-area\">\n            <form onSubmit={handleLogin} className=\"login-form\">\n              <fieldset>\n                <legend>Entrar</legend>\n                <Link to={'/cadastrate'} className=\"cadastrate\">\n                  Criar novo utilizador\n                </Link>\n                <div className=\"input-area\">\n                  <div className=\"input-block\">\n                    <label htmlFor=\"email\">E-mail</label>\n                    <input\n                      id=\"email\"\n                      type=\"email\"\n                      value={email}\n                      onChange={(e) => setEmail(e.target.value)}\n                    />\n                  </div>\n                  <div className=\"input-block\">\n                    <label htmlFor=\"password\">Password</label>\n                    <input\n                      id=\"password\"\n                      type=\"password\"\n                      value={password}\n                      onChange={(e) => setPassword(e.target.value)}\n                    />\n                  </div>\n                  <div className=\"help-area\">\n                    <div className=\"checkbox-block\">\n                      <input type=\"checkbox\" name=\"remember\" id=\"remember\" />\n                      <label htmlFor=\"remember\">Lembrar-me</label>\n                    </div>\n                    <Link to=\"/login/forgot\" className=\"forgot-password\">\n                      Esqueci minha Password\n                    </Link>\n                  </div>\n                </div>\n              </fieldset>\n              <button type=\"submit\" className=\"login-button\">\n                Entrar\n              </button>\n            </form>\n          </div>\n          <Link to=\"/\" className=\"button-back\">\n            <FiArrowLeft size={35} color=\"#29B6D1\" />\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}