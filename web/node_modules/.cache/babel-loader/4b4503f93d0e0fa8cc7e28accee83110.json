{"ast":null,"code":"var _jsxFileName = \"/home/pedro/Documents/ULP/Chargefy2/Chargefy2.0/web/src/views/Dashboard/RegistredPces.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport { FiTrash, FiEye } from 'react-icons/fi';\nimport { Map, Marker, TileLayer } from 'react-leaflet';\nimport mapIcon from '../../utils/mapIcon';\nimport noOrph from \"../../images/no-orph.svg\";\nimport DashSideBar from '../../components/DashSideBar';\nimport '../../styles/pages/dashboard.css';\nimport api from '../../services/api';\nimport Pce from '../Pce';\nimport { Link, useHistory } from 'react-router-dom';\nexport default function Registred() {\n  const history = useHistory();\n  const [pces, setPces] = useState([]);\n\n  function isApproved(pce) {\n    return pce.approved;\n  }\n\n  useEffect(() => {\n    api.get('pces').then(response => {\n      setPces(response.data);\n    });\n  }, []);\n  const filteredPces = pces.filter(isApproved);\n\n  async function handleRemove(id) {\n    await api.post(`/pces/remove/${id}`);\n    history.push('/removeSuccess');\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"page-registred\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DashSideBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"main\", {\n    className: \"dashboard-main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"registred-pces\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }\n  }, \"Postos de carregamento registados\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }, filteredPces.length, \" posto(s)\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cards-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, filteredPces.length === 0 ? /*#__PURE__*/React.createElement(\"img\", {\n    src: noOrph,\n    alt: \"Sem Postos\",\n    className: \"no-orph\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }) : null, filteredPces.map(pce => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: pce.id,\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Map, {\n      key: pce.id,\n      center: [pce.latitude, pce.longitude],\n      style: {\n        width: '100%',\n        height: 280\n      },\n      zoom: 13,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TileLayer // url = \"https://a.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n    , {\n      url: `https://api.mapbox.com/styles/v1/mapbox/outdoors-v11/tiles/256/{z}/{x}/{y}@2x?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(Marker, {\n      interactive: false,\n      icon: mapIcon,\n      position: [pce.latitude, pce.longitude],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 23\n      }\n    }), \")\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 23\n      }\n    }, pce.name), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: `/pces/${pce.id}`,\n      className: \"card-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FiEye, {\n      size: 20,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 27\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => handleRemove(pce.id),\n      className: \"card-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FiTrash, {\n      size: 20,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 27\n      }\n    })))));\n  }))))));\n}","map":{"version":3,"sources":["/home/pedro/Documents/ULP/Chargefy2/Chargefy2.0/web/src/views/Dashboard/RegistredPces.tsx"],"names":["React","useEffect","useState","FiTrash","FiEye","Map","Marker","TileLayer","mapIcon","DashSideBar","api","Pce","Link","useHistory","Registred","history","pces","setPces","isApproved","pce","approved","get","then","response","data","filteredPces","filter","handleRemove","id","post","push","length","noOrph","map","latitude","longitude","width","height","process","env","REACT_APP_MAPBOX_TOKEN","name"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { FiTrash, FiEye } from 'react-icons/fi';\nimport { Map, Marker, TileLayer } from 'react-leaflet';\n\nimport mapIcon from '../../utils/mapIcon';\n\nimport noOrph from '../../images/no-orph.svg';\n\nimport DashSideBar from '../../components/DashSideBar';\n\nimport '../../styles/pages/dashboard.css';\n\nimport api from '../../services/api';\nimport Pce from '../Pce';\nimport { Link, useHistory } from 'react-router-dom';\n\ninterface Pce {\n  id: number;\n  latitude: number;\n  longitude: number;\n  name: string;\n  approved: boolean;\n}\n\nexport default function Registred() {\n  const history = useHistory();\n  const [pces, setPces] = useState<Pce[]>([]);\n\n  function isApproved(pce: Pce) {\n    return pce.approved;\n  }\n\n  useEffect(() => {\n    api.get('pces').then((response) => {\n      setPces(response.data);\n    });\n  }, []);\n\n  const filteredPces = pces.filter(isApproved);\n\n  async function handleRemove(id: any) {\n    await api.post(`/pces/remove/${id}`);\n\n    history.push('/removeSuccess');\n  }\n\n  return (\n    <div id=\"page-registred\">\n      <DashSideBar />\n      <div className=\"content-wrapper\">\n        <main className=\"dashboard-main\">\n          <div className=\"registred-pces\">\n            <div className=\"info\">\n              <h1>Postos de carregamento registados</h1>\n              <p>{filteredPces.length} posto(s)</p>\n            </div>\n            <div className=\"cards-wrapper\">\n              {filteredPces.length === 0 ? (\n                <img src={noOrph} alt=\"Sem Postos\" className=\"no-orph\" />\n              ) : null}\n\n              {filteredPces.map((pce) => {\n                return (\n                  <div key={pce.id} className=\"card\">\n                    <Map\n                      key={pce.id}\n                      center={[pce.latitude, pce.longitude]}\n                      style={{ width: '100%', height: 280 }}\n                      zoom={13}\n                    >\n                      <TileLayer\n                      // url = \"https://a.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                      url={`https://api.mapbox.com/styles/v1/mapbox/outdoors-v11/tiles/256/{z}/{x}/{y}@2x?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`}\n                      />\n                      <Marker\n                        interactive={false}\n                        icon={mapIcon}\n                        position={[pce.latitude, pce.longitude]}\n                      />\n                      )\n                    </Map>\n\n                    <div className=\"card-info\">\n                      <h2>{pce.name}</h2>\n\n                      <div className=\"card-buttons\">\n                        <Link\n                          to={`/pces/${pce.id}`}\n                          className=\"card-btn\"\n                        >\n                          <FiEye size={20} />\n                        </Link>\n                        <button\n                          onClick={() => handleRemove(pce.id)}\n                          className=\"card-btn\"\n                        >\n                          <FiTrash size={20} />\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}