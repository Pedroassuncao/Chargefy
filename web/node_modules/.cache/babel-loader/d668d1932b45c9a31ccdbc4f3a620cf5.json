{"ast":null,"code":"var _jsxFileName = \"/home/pedro/Documents/ULP/NLW_Happy2.0/web/src/views/Dashboard/RegistredPces.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport { FiTrash, FiEye } from 'react-icons/fi';\nimport { Map, Marker, TileLayer } from 'react-leaflet';\nimport mapIcon from '../../utils/mapIcon';\nimport noOrph from \"../../images/no-orph.svg\";\nimport DashSideBar from '../../components/DashSideBar';\nimport '../../styles/pages/dashboard.css';\nimport api from '../../services/api';\nimport Orphanage from '../Pce';\nimport { Link, useHistory } from 'react-router-dom';\nexport default function Registred() {\n  const history = useHistory();\n  const [orphanages, setOrphanages] = useState([]);\n\n  function isApproved(orphanage) {\n    return orphanage.approved;\n  }\n\n  useEffect(() => {\n    api.get('orphanages').then(response => {\n      setOrphanages(response.data);\n    });\n  }, []);\n  const filteredOrphanages = orphanages.filter(isApproved);\n\n  async function handleRemove(id) {\n    await api.post(`/orphanages/remove/${id}`);\n    history.push('/removeSuccess');\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"page-registred\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DashSideBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"main\", {\n    className: \"dashboard-main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"registred-orphanages\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }\n  }, \"Orfanatos Cadastrados\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }, filteredOrphanages.length, \" orfanato(s)\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cards-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, filteredOrphanages.length === 0 ? /*#__PURE__*/React.createElement(\"img\", {\n    src: noOrph,\n    alt: \"Sem orfanatos\",\n    className: \"no-orph\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }) : null, filteredOrphanages.map(orphanage => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: orphanage.id,\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Map, {\n      key: orphanage.id,\n      center: [orphanage.latitude, orphanage.longitude],\n      style: {\n        width: '100%',\n        height: 280\n      },\n      zoom: 13,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TileLayer, {\n      url: `https://api.mapbox.com/styles/v1/mapbox/light-v10/tiles/256/{z}/{x}/{y}@2x?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(Marker, {\n      interactive: false,\n      icon: mapIcon,\n      position: [orphanage.latitude, orphanage.longitude],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 23\n      }\n    }), \")\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 23\n      }\n    }, orphanage.name), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: `/orphanages/${orphanage.id}`,\n      className: \"card-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FiEye, {\n      size: 20,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 27\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => handleRemove(orphanage.id),\n      className: \"card-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FiTrash, {\n      size: 20,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 27\n      }\n    })))));\n  }))))));\n}","map":{"version":3,"sources":["/home/pedro/Documents/ULP/NLW_Happy2.0/web/src/views/Dashboard/RegistredPces.tsx"],"names":["React","useEffect","useState","FiTrash","FiEye","Map","Marker","TileLayer","mapIcon","DashSideBar","api","Orphanage","Link","useHistory","Registred","history","orphanages","setOrphanages","isApproved","orphanage","approved","get","then","response","data","filteredOrphanages","filter","handleRemove","id","post","push","length","noOrph","map","latitude","longitude","width","height","process","env","REACT_APP_MAPBOX_TOKEN","name"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { FiTrash, FiEye } from 'react-icons/fi';\nimport { Map, Marker, TileLayer } from 'react-leaflet';\n\nimport mapIcon from '../../utils/mapIcon';\n\nimport noOrph from '../../images/no-orph.svg';\n\nimport DashSideBar from '../../components/DashSideBar';\n\nimport '../../styles/pages/dashboard.css';\n\nimport api from '../../services/api';\nimport Orphanage from '../Pce';\nimport { Link, useHistory } from 'react-router-dom';\n\ninterface Orphanage {\n  id: number;\n  latitude: number;\n  longitude: number;\n  name: string;\n  approved: boolean;\n}\n\nexport default function Registred() {\n  const history = useHistory();\n  const [orphanages, setOrphanages] = useState<Orphanage[]>([]);\n\n  function isApproved(orphanage: Orphanage) {\n    return orphanage.approved;\n  }\n\n  useEffect(() => {\n    api.get('orphanages').then((response) => {\n      setOrphanages(response.data);\n    });\n  }, []);\n\n  const filteredOrphanages = orphanages.filter(isApproved);\n\n  async function handleRemove(id: any) {\n    await api.post(`/orphanages/remove/${id}`);\n\n    history.push('/removeSuccess');\n  }\n\n  return (\n    <div id=\"page-registred\">\n      <DashSideBar />\n      <div className=\"content-wrapper\">\n        <main className=\"dashboard-main\">\n          <div className=\"registred-orphanages\">\n            <div className=\"info\">\n              <h1>Orfanatos Cadastrados</h1>\n              <p>{filteredOrphanages.length} orfanato(s)</p>\n            </div>\n            <div className=\"cards-wrapper\">\n              {filteredOrphanages.length === 0 ? (\n                <img src={noOrph} alt=\"Sem orfanatos\" className=\"no-orph\" />\n              ) : null}\n\n              {filteredOrphanages.map((orphanage) => {\n                return (\n                  <div key={orphanage.id} className=\"card\">\n                    <Map\n                      key={orphanage.id}\n                      center={[orphanage.latitude, orphanage.longitude]}\n                      style={{ width: '100%', height: 280 }}\n                      zoom={13}\n                    >\n                      <TileLayer\n                        url={`https://api.mapbox.com/styles/v1/mapbox/light-v10/tiles/256/{z}/{x}/{y}@2x?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`}\n                      />\n                      <Marker\n                        interactive={false}\n                        icon={mapIcon}\n                        position={[orphanage.latitude, orphanage.longitude]}\n                      />\n                      )\n                    </Map>\n\n                    <div className=\"card-info\">\n                      <h2>{orphanage.name}</h2>\n\n                      <div className=\"card-buttons\">\n                        <Link\n                          to={`/orphanages/${orphanage.id}`}\n                          className=\"card-btn\"\n                        >\n                          <FiEye size={20} />\n                        </Link>\n                        <button\n                          onClick={() => handleRemove(orphanage.id)}\n                          className=\"card-btn\"\n                        >\n                          <FiTrash size={20} />\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}