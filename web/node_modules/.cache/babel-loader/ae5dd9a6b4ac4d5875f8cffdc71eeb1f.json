{"ast":null,"code":"import _slicedToArray from\"/home/pedro/Documents/ULP/Chargefy2/Chargefy2.0/web/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';/// import { FaImages, FaWhatsapp } from 'react-icons/fa';\nimport{FiBatteryCharging,FiClock}from'react-icons/fi';import{Map,Marker,TileLayer}from'react-leaflet';import{useParams}from'react-router-dom';import'../styles/pages/pce.css';import Sidebar from'../components/Sidebar';import mapIcon from'../utils/mapIcon';import noImages from\"../images/no-images.svg\";import api from'../services/api';export default function Pce(){var params=useParams();var _useState=useState(),_useState2=_slicedToArray(_useState,2),pce=_useState2[0],setPce=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),activeImageIndex=_useState4[0],setActiveImageIndex=_useState4[1];useEffect(function(){api.get(\"pces/\".concat(params.id)).then(function(response){setPce(response.data);});},[params.id]);if(!pce){return/*#__PURE__*/React.createElement(\"p\",null,\"Loading...\");}return/*#__PURE__*/React.createElement(\"div\",{id:\"page-pce\"},/*#__PURE__*/React.createElement(Sidebar,null),/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"pce-details\"},/*#__PURE__*/React.createElement(\"img\",{src:pce.images.length===0?noImages:pce.images[activeImageIndex].url,alt:pce.name}),/*#__PURE__*/React.createElement(\"div\",{className:\"images\"},pce.images.map(function(image,index){if(pce.images===[])return null;return/*#__PURE__*/React.createElement(\"button\",{key:image.id,className:index===activeImageIndex?'active':'',type:\"button\",onClick:function onClick(){setActiveImageIndex(index);}},/*#__PURE__*/React.createElement(\"img\",{src:image.url,alt:pce.name}));})),/*#__PURE__*/React.createElement(\"div\",{className:\"pce-details-content\"},/*#__PURE__*/React.createElement(\"h1\",null,pce.name),/*#__PURE__*/React.createElement(\"p\",null,pce.about),/*#__PURE__*/React.createElement(\"div\",{className:\"map-container\"},/*#__PURE__*/React.createElement(Map,{center:[pce.latitude,pce.longitude],zoom:16,style:{width:'100%',height:280},dragging:false,touchZoom:false,zoomControl:false,scrollWheelZoom:false,doubleClickZoom:false},/*#__PURE__*/React.createElement(TileLayer,{url:\"https://api.mapbox.com/styles/v1/mapbox/outdoors-v11/tiles/256/{z}/{x}/{y}@2x?access_token=\".concat(process.env.REACT_APP_MAPBOX_TOKEN)}),/*#__PURE__*/React.createElement(Marker,{interactive:false,icon:mapIcon,position:[pce.latitude,pce.longitude]})),/*#__PURE__*/React.createElement(\"footer\",null,/*#__PURE__*/React.createElement(\"a\",{//evitar ataques\ntarget:\"_blank\",rel:\"noopener noreferrer\",href:\"https://www.google.pt/maps/dir/?api=1&destination=\".concat(pce.latitude,\",\").concat(pce.longitude)},\"Ver rotas no Google Maps\"))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"h2\",null,\"Hor\\xE1rio de funcionamento\"),/*#__PURE__*/React.createElement(\"div\",{className:\"open-details\"},/*#__PURE__*/React.createElement(\"div\",{className:\"hour\"},/*#__PURE__*/React.createElement(FiClock,{size:32,color:\"#15B6D6\"}),\"Todos os dias\",/*#__PURE__*/React.createElement(\"br\",null),pce.opening_hours),pce.charger_type?/*#__PURE__*/React.createElement(\"div\",{className:\"open-on-weekends\"},/*#__PURE__*/React.createElement(FiBatteryCharging,{size:32,color:\"#39CC83\"}),pce.charger_type,\" \",/*#__PURE__*/React.createElement(\"br\",null)):/*#__PURE__*/React.createElement(\"div\",null,\" \")// <div className=\"open-on-weekends closed-on-weekends\">\n//   <FiBatteryCharging size={32} color=\"#FF669D\" />\n//   NÃ£o atendemos\n//   <br />\n//   fim de semana\n// </div>\n),/*#__PURE__*/React.createElement(\"div\",{className:\"me\"},/*#__PURE__*/React.createElement(\"span\",null,\"Made with \\uD83D\\uDC9C by Pedro Assun\\xE7\\xE3o, Pedro Rodrigues\"))))));}","map":{"version":3,"sources":["/home/pedro/Documents/ULP/Chargefy2/Chargefy2.0/web/src/views/Pce.tsx"],"names":["React","useEffect","useState","FiBatteryCharging","FiClock","Map","Marker","TileLayer","useParams","Sidebar","mapIcon","api","Pce","params","pce","setPce","activeImageIndex","setActiveImageIndex","get","id","then","response","data","images","length","noImages","url","name","map","image","index","about","latitude","longitude","width","height","process","env","REACT_APP_MAPBOX_TOKEN","opening_hours","charger_type"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\n/// import { FaImages, FaWhatsapp } from 'react-icons/fa';\nimport { FiBatteryCharging, FiClock, FiHeart, FiInfo } from 'react-icons/fi';\nimport { Map, Marker, TileLayer } from 'react-leaflet';\nimport { useParams } from 'react-router-dom';\n\nimport '../styles/pages/pce.css';\nimport Sidebar from '../components/Sidebar';\nimport mapIcon from '../utils/mapIcon';\n\nimport noImages from '../images/no-images.svg';\n\nimport api from '../services/api';\n\ninterface Pce {\n  latitude: number;\n  longitude: number;\n  name: string;\n  about: string;\n  charger_type: string;\n  opening_hours: string;\n  images: Array<{\n    id: number;\n    url: string;\n  }>;\n}\n\ninterface PceParams {\n  id: string;\n}\n\nexport default function Pce() {\n  const params = useParams<PceParams>();\n  const [pce, setPce] = useState<Pce>();\n  const [activeImageIndex, setActiveImageIndex] = useState(0);\n\n  useEffect(() => {\n    api.get(`pces/${params.id}`).then((response) => {\n      setPce(response.data);\n    });\n  }, [params.id]);\n\n  if (!pce) {\n    return <p>Loading...</p>;\n  }\n\n  return (\n    <div id=\"page-pce\">\n      <Sidebar />\n      <main>\n        <div className=\"pce-details\">\n          <img\n            src={\n              pce.images.length === 0\n                ? noImages\n                : pce.images[activeImageIndex].url\n            }\n            alt={pce.name}\n          />\n\n          <div className=\"images\">\n            {pce.images.map((image, index) => {\n              if (pce.images === []) return null;\n              return (\n                <button\n                  key={image.id}\n                  className={index === activeImageIndex ? 'active' : ''}\n                  type=\"button\"\n                  onClick={() => {\n                    setActiveImageIndex(index);\n                  }}\n                >\n                  <img src={image.url} alt={pce.name} />\n                </button>\n              );\n            })}\n          </div>\n\n          <div className=\"pce-details-content\">\n            <h1>{pce.name}</h1>\n            <p>{pce.about}</p>\n\n            <div className=\"map-container\">\n              <Map\n                center={[pce.latitude, pce.longitude]}\n                zoom={16}\n                style={{ width: '100%', height: 280 }}\n                dragging={false}\n                touchZoom={false}\n                zoomControl={false}\n                scrollWheelZoom={false}\n                doubleClickZoom={false}\n              >\n                <TileLayer\n                  url={`https://api.mapbox.com/styles/v1/mapbox/outdoors-v11/tiles/256/{z}/{x}/{y}@2x?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`}\n                />\n                <Marker\n                  interactive={false}\n                  icon={mapIcon}\n                  position={[pce.latitude, pce.longitude]}\n                />\n              </Map>\n\n              <footer>\n                <a\n                //evitar ataques\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  href={`https://www.google.pt/maps/dir/?api=1&destination=${pce.latitude},${pce.longitude}`}\n                >\n                  Ver rotas no Google Maps\n                </a>\n              </footer>\n            </div>\n\n            <hr />\n\n            <h2>HorÃ¡rio de funcionamento</h2>\n            {/* <p>{pce.charger_type}</p> */}\n\n            <div className=\"open-details\">\n              <div className=\"hour\">\n                <FiClock size={32} color=\"#15B6D6\" />\n                Todos os dias\n                <br />\n                {pce.opening_hours}\n              </div>\n              { pce.charger_type ? (\n                <div className=\"open-on-weekends\">\n                  <FiBatteryCharging size={32} color=\"#39CC83\" />\n                  {pce.charger_type} <br />\n                  \n                </div>\n              ) : (\n                <div> </div>\n                // <div className=\"open-on-weekends closed-on-weekends\">\n                //   <FiBatteryCharging size={32} color=\"#FF669D\" />\n                //   NÃ£o atendemos\n                //   <br />\n                //   fim de semana\n                // </div>\n              )}\n            </div>\n\n            \n            <div className=\"me\">\n              <span>\n                    Made with ð by Pedro AssunÃ§Ã£o, Pedro Rodrigues\n                    {/* <FiHeart size={20} color=\"#472da0\"/> */}\n                    \n              </span>\n           \n            </div>\n            \n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}